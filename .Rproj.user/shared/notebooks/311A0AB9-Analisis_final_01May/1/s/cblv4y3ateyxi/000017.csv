"0","library(ggplot2)"
"0","library(dplyr)"
"0",""
"0","# Funci√≥n auxiliar"
"0","get_calib_data <- function(probs, outcome, model_name) {"
"0","  data.frame("
"0","    prob = probs,"
"0","    outcome = outcome,"
"0","    model = model_name"
"0","  )"
"0","}"
"0",""
"0","# Construir datasets"
"0","calib_perfiles <- get_calib_data(df_modelos$prob_predicha_per_m, df_modelos$controlado, ""Perfiles"")"
"0","calib_conteo   <- get_calib_data(df_modelos$prob_predicha_cont_m, df_modelos$controlado, ""Conteo"")"
"0","calib_indice   <- get_calib_data(df_modelos$prob_predicha_iis_m, df_modelos$controlado, ""√çndice"")"
"0",""
"0","# Combinar"
"0","calib_all <- bind_rows(calib_perfiles, calib_conteo, calib_indice)"
"0",""
"0","# Graficar con colores personalizados"
"0","ggplot(calib_all, aes(x = prob, y = outcome, color = model)) +"
"0","  geom_smooth(method = ""loess"", se = FALSE, span = 0.8) +"
"0","  geom_abline(slope = 1, intercept = 0, linetype = ""dashed"") +"
"0","  scale_x_continuous(limits = c(0, 1)) +"
"0","  scale_y_continuous(limits = c(0, 1)) +"
"0","  scale_color_manual(values = c(""Perfiles"" = ""#003399"",  "
"0","                                ""Conteo"" = ""#8B0000"","
"0","                                ""√çndice"" = ""#006400"")) +"
"0","  labs("
"0","    title = ""Curvas de calibraci√≥n suavizadas"","
"0","    x = ""Probabilidad predicha"","
"0","    y = ""Proporci√≥n observada"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(legend.title = element_blank())"
"1","[38;5;232m`geom_smooth()` using formula = 'y ~ x'[39m
"
