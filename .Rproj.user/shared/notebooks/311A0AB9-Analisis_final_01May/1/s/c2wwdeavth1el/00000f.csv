"0","# Identificar columnas"
"0","columnas_enfermedades <- which(names(datos_2) %in% c(""diabetes"",""hta"",""erc"",""epoc"",""scc"",""ecv"",""dislip"",""icc"",""obesidad"",""osteoporosis"","
"0","                     ""fibri_auricular"",""hipotir"",""hipertir"",""osteoartritis"",""artritis_reumatoide"",""les"",""asma"","
"0","                     ""eap"",""saos"",""gota"")) "
"0","columnas_ctrl <- which(names(datos_2) %in% c(""ctrl_diabetes"",""ctrl_hta"",""ctrl_erc"",""ctrl_epoc"",""ctrl_scc"",""ctrl_ecv"",""ctrl_dislip"",""ctrl_icc"",""ctrl_obesidad"",""ctrl_osteo"",""ctrl_fa"",""ctrl_hipotir"",""ctrl_hipertir"",""ctrl_osteoartritis"",""ctrl_artritis_reuma"",""ctrl_les"",""ctrl_asma"",""ctrl_eap"",""ctrl_saos"",""ctrl_gota"")) "
"0",""
"0","# Crear la variable dependiente"
"0","datos_2 <- datos_2 %>%"
"0","  rowwise() %>%"
"0","  mutate("
"0","    controlado = ifelse("
"0","      all(across("
"0","        all_of(names(datos_2)[columnas_ctrl])[across(all_of(names(datos_2)[columnas_enfermedades])) == 1],"
"0","        ~ .x == 1"
"0","      )),"
"0","      1,"
"0","      0"
"0","    )"
"0","  ) %>%"
"0","  ungroup()"
"0",""
"0","table(datos_2$controlado)"
"1","
"
"1","  0 "
"1","  1 "
"1","
"
"1","426 "
"1","195 "
"1","
"
