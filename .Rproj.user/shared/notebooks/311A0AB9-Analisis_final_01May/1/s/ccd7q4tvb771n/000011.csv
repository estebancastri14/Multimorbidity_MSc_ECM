"0","library(rms)"
"0",""
"0","# Establecer distribución (binomial), número de observaciones y diseño"
"0","dd <- datadist(df_modelos)"
"0","options(datadist = ""dd"")"
"0",""
"0","# Modelos con lrm"
"0","# Modelo con perfiles"
"0","modelo_per_lrm <- lrm(controlado ~ Clase_Latente + edad + sexo + adherente_total,"
"0","                      data = df_modelos, x = TRUE, y = TRUE)"
"0",""
"0","# Modelo con conteo"
"0","modelo_cont_lrm <- lrm(controlado ~ grupo_enfermedades + edad + sexo + adherente_total,"
"0","                       data = df_modelos, x = TRUE, y = TRUE)"
"0",""
"0","# Modelo con índice"
"0","modelo_iis_lrm <- lrm(controlado ~ grupo_iis + edad + sexo + adherente_total,"
"0","                      data = df_modelos, x = TRUE, y = TRUE)"
"0",""
"0",""
"0","set.seed(123)  # para reproducibilidad"
"0",""
"0","# Perfil"
"0","val_per <- validate(modelo_per_lrm, method = ""boot"", B = 1000)"
"0",""
"0","# Conteo"
"0","val_cont <- validate(modelo_cont_lrm, method = ""boot"", B = 1000)"
"0",""
"0","# Índice"
"0","val_iis <- validate(modelo_iis_lrm, method = ""boot"", B = 1000)"
"0",""
"0","# AUC ajustado"
"0","auc_per <- (val_per[""Dxy"", ""index.corrected""] + 1) / 2"
"0","auc_cont <- (val_cont[""Dxy"", ""index.corrected""] + 1) / 2"
"0","auc_iis <- (val_iis[""Dxy"", ""index.corrected""] + 1) / 2"
"0",""
"0","print(val_per)"
"1","         "
"1"," index.orig"
"1"," training"
"1","    test"
"1"," optimism"
"1"," index.corrected"
"1","    n"
"1","
Dxy      "
"1","     0.2785"
"1","   0.2983"
"1","  0.2577"
"1","   0.0407"
"1","          0.2379"
"1"," 1000"
"1","
R2       "
"1","     0.1091"
"1","   0.1192"
"1","  0.1014"
"1","   0.0178"
"1","          0.0913"
"1"," 1000"
"1","
Intercept"
"1","     0.0000"
"1","   0.0000"
"1"," -0.0640"
"1","   0.0640"
"1","         -0.0640"
"1"," 1000"
"1","
Slope    "
"1","     1.0000"
"1","   1.0000"
"1","  0.9009"
"1","   0.0991"
"1","          0.9009"
"1"," 1000"
"1","
Emax     "
"1","     0.0000"
"1","   0.0000"
"1","  0.0342"
"1","   0.0342"
"1","          0.0342"
"1"," 1000"
"1","
D        "
"1","     0.0793"
"1","   0.0872"
"1","  0.0733"
"1","   0.0139"
"1","          0.0653"
"1"," 1000"
"1","
U        "
"1","    -0.0032"
"1","  -0.0032"
"1","  0.0008"
"1","  -0.0040"
"1","          0.0008"
"1"," 1000"
"1","
Q        "
"1","     0.0825"
"1","   0.0904"
"1","  0.0725"
"1","   0.0179"
"1","          0.0645"
"1"," 1000"
"1","
B        "
"1","     0.2011"
"1","   0.1994"
"1","  0.2029"
"1","  -0.0036"
"1","          0.2046"
"1"," 1000"
"1","
g        "
"1","     0.7463"
"1","   0.8094"
"1","  0.7151"
"1","   0.0943"
"1","          0.6520"
"1"," 1000"
"1","
gp       "
"1","     0.1239"
"1","   0.1332"
"1","  0.1233"
"1","   0.0098"
"1","          0.1141"
"1"," 1000"
"1","
"
"0","print(val_cont)"
"1","         "
"1"," index.orig"
"1"," training"
"1","    test"
"1"," optimism"
"1"," index.corrected"
"1","    n"
"1","
Dxy      "
"1","     0.2910"
"1","   0.3143"
"1","  0.2949"
"1","   0.0194"
"1","          0.2717"
"1"," 1000"
"1","
R2       "
"1","     0.1265"
"1","   0.1335"
"1","  0.1203"
"1","   0.0132"
"1","          0.1133"
"1"," 1000"
"1","
Intercept"
"1","     0.0000"
"1","   0.0000"
"1"," -0.0382"
"1","   0.0382"
"1","         -0.0382"
"1"," 1000"
"1","
Slope    "
"1","     1.0000"
"1","   1.0000"
"1","  0.9394"
"1","   0.0606"
"1","          0.9394"
"1"," 1000"
"1","
Emax     "
"1","     0.0000"
"1","   0.0000"
"1","  0.0203"
"1","   0.0203"
"1","          0.0203"
"1"," 1000"
"1","
D        "
"1","     0.0928"
"1","   0.0984"
"1","  0.0880"
"1","   0.0105"
"1","          0.0823"
"1"," 1000"
"1","
U        "
"1","    -0.0032"
"1","  -0.0032"
"1","  0.0007"
"1","  -0.0039"
"1","          0.0007"
"1"," 1000"
"1","
Q        "
"1","     0.0960"
"1","   0.1017"
"1","  0.0873"
"1","   0.0144"
"1","          0.0816"
"1"," 1000"
"1","
B        "
"1","     0.1979"
"1","   0.1965"
"1","  0.1995"
"1","  -0.0030"
"1","          0.2009"
"1"," 1000"
"1","
g        "
"1","     0.7893"
"1","   0.8297"
"1","  0.7641"
"1","   0.0656"
"1","          0.7237"
"1"," 1000"
"1","
gp       "
"1","     0.1346"
"1","   0.1388"
"1","  0.1326"
"1","   0.0062"
"1","          0.1283"
"1"," 1000"
"1","
"
"0","print(val_iis)"
"1","         "
"1"," index.orig"
"1"," training"
"1","    test"
"1"," optimism"
"1"," index.corrected"
"1","    n"
"1","
Dxy      "
"1","     0.3378"
"1","   0.3608"
"1","  0.3258"
"1","   0.0350"
"1","          0.3027"
"1"," 1000"
"1","
R2       "
"1","     0.1298"
"1","   0.1428"
"1","  0.1201"
"1","   0.0228"
"1","          0.1070"
"1"," 1000"
"1","
Intercept"
"1","     0.0000"
"1","   0.0000"
"1"," -0.0678"
"1","   0.0678"
"1","         -0.0678"
"1"," 1000"
"1","
Slope    "
"1","     1.0000"
"1","   1.0000"
"1","  0.8964"
"1","   0.1036"
"1","          0.8964"
"1"," 1000"
"1","
Emax     "
"1","     0.0000"
"1","   0.0000"
"1","  0.0360"
"1","   0.0360"
"1","          0.0360"
"1"," 1000"
"1","
D        "
"1","     0.0953"
"1","   0.1059"
"1","  0.0878"
"1","   0.0181"
"1","          0.0772"
"1"," 1000"
"1","
U        "
"1","    -0.0032"
"1","  -0.0032"
"1","  0.0013"
"1","  -0.0045"
"1","          0.0013"
"1"," 1000"
"1","
Q        "
"1","     0.0986"
"1","   0.1091"
"1","  0.0865"
"1","   0.0226"
"1","          0.0760"
"1"," 1000"
"1","
B        "
"1","     0.1972"
"1","   0.1950"
"1","  0.1996"
"1","  -0.0045"
"1","          0.2018"
"1"," 1000"
"1","
g        "
"1","     0.8590"
"1","   0.9170"
"1","  0.8081"
"1","   0.1089"
"1","          0.7501"
"1"," 1000"
"1","
gp       "
"1","     0.1492"
"1","   0.1566"
"1","  0.1438"
"1","   0.0128"
"1","          0.1364"
"1"," 1000"
"1","
"
"0","auc_per"
"1","[1]"
"1"," 0.6189466"
"1","
"
"0","auc_cont"
"1","[1]"
"1"," 0.6358401"
"1","
"
"0","auc_iis"
"1","[1]"
"1"," 0.6513628"
"1","
"
